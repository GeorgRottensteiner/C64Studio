#RetroDevStudio.MetaData.BASIC:2049,BASIC V2,uppercase,10,10
100 PRINT "VIC-II CHARACTER MEMORY LOCATOR"
105 PRINT CHR$(147)
110 PRINT "------------------------------"
130 V=PEEK(53272) : REM READ THE VALUE FROM 53272
140 PRINT "VALUE AT 53272 = ";V;
150 B = V
160 L = 7
170 PRINT " (BIN "; : GOSUB 3000
180 PRINT ")"
200 REM CALCULATE SCREEN RAM ADDRESS
210 S=INT(V/16) : REM GET THE 4 MOST SIGNIFICANT BITS
220 PRINT "4 MSB: "; S; "DEC ";
230 B = S
240 L = 4
250 PRINT "(BIN "; : GOSUB 3000
260 A=S*1024
270 PRINT ")"
280 PRINT "SCREEN RAM ADDRESS: ";A
300 REM CALCULATE CHARACTER SET ADDRESS
310 C=(V AND 14)/2 : REM GET BITS 1-3
320 PRINT "3 LSB: "; C; "DEC";
330 B = C
340 L = 3
350 PRINT " (BIN "; : GOSUB 3000
360 A=C*2048
370 PRINT ")"
380 PRINT "CHARACTER SET ADDRESS: ";A
400 END
3000 REM BINARY CONVERSION
3010 N$ = "":BB=128
3020 FOR I=7 TO 0 STEP -1
3030 IF I<L THEN N$=N$+CHR$(49+((B AND BB)=0))
3040 BB=BB/2
3050 NEXT I
3060 PRINT N$;
3070 RETURN 