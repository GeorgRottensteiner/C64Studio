!cpu Z80

!to "zx81-helloworld.p",plain

!src <zx81.asm>

;prepares the BASIC startup and REM line containing the assembled code
+Line1

;ist 6335 OK
!byte 237,106,80,107,174,106
!byte 9,3,0,0,0,112
!byte 107,182,106,45,0,23
!byte 0,0,214,106,0,88
!byte 2,7,33,0,0,34
!byte 153,64,62,8,50,136
!byte 64,62,2,50,137,64
!byte 62,0,50,148,64,50
!byte 149,64,50,152,64,42
!byte 12,64,17,105,1,25
!byte 34,130,64,17,165,0
!byte 25,34,132,64,42,12
!byte 64,17,141,1,25,34
!byte 134,64,62,23,50,147
!byte 64,62,0,50,138,64
!byte 50,139,64,50,140,64
!byte 33,50,0,34,145,64
!byte 62,253,50,36

;ist 8430 OK
!byte 67,42
!byte 12,64,35,85,93,35
!byte 62,18,1,31,0,237
!byte 175,245,151,18,19,35
!byte 19,35,241,61,32,240
!byte 17,33,0,42,130,64
!byte 167,58,148,64,254,0
!byte 40,34,214,10,58,148
!byte 64,48,12,60,50,148
!byte 64,167,58,136,64,254
!byte 9,24,36,254,13,40
!byte 4,60,50,148,64,58
!byte 136,64,254,5,24,11
!byte 237,95,203,87,58,136
!byte 64,40,10,254,1,40
!byte 18,61,237,82,0,24
!byte 6,254

;ist 9081 OK
!byte 9,40,8,60
!byte 25,34,130,64,50,136
!byte 64,71,54,136,237,82
!byte 0,16,249,42,132,64
!byte 58,148,64,254,0,40
!byte 6,254,45,40,0,24
!byte 5,167,237,95,203,79
!byte 58,137,64,32,8,254
!byte 1,40,18,61,25,24
!byte 8,254,4,40,10,60
!byte 237,82,35,34,132,64
!byte 50,137,64,71,54,136
!byte 25,16,251,58,152,64
!byte 254,0,194,136,66,58
!byte 148,64,254,13,194,178
!byte 66,58,149,64,254,0
!byte 32,21,237,95,214,150

;ist 7975 <<<< (soll 7965)  10off (7985, 20off)
!byte 210,7,67,167,62,35
!byte 50,149,64,42,130,64
!byte 25,25,25,24,42,61
!byte 50,149,64,254,0,40
!byte 102,214,10,48,19,167
!byte 58,149,64,203,71,40
!byte 11,42,150,64,43,54
!byte 0,35,6,52,24,11
!byte 42,150,64,43,34,150
!byte 64,54,0,6,21,237
!byte 95,203,79,40,11,237
!byte 82,0,126,254,0,40
!byte 1,25,24,8,25,126
!byte 254,0,40,2,237,82
!byte 112,34,150,64,43,58
!byte 140,64,254,0,32,19
!byte 237,95,214,150

;ist 7473 <<<< (soll 7475)  2off
!byte 48,13
!byte 167,34,141,64,120,50
!byte 147,64,62,1,50,140
!byte 64,237,95,214,150,48
!byte 3,167,54,11,195,7
!byte 67,62,1,50,152,64
!byte 42,130,64,17,33,0
!byte 25,25,54,132,25,54
!byte 19,25,54,129,25,43
!byte 54,3,237,82,0,237
!byte 82,0,54,136,237,82
!byte 0,237,82,0,54,131
!byte 43,34,150,64,6,6
!byte 43,16,253,54,13,25
!byte 54,136,25,54,13,25
!byte 54,136,25,54,13,6
!byte 6,43,16,253,54,136
!byte 237,82

;ist 8193 OK
!byte 0,54,13,237
!byte 82,0,54,136,237,82
!byte 0,54,13,237,82,0
!byte 54,136,58,140,64,254
!byte 0,32,25,237,95,214
!byte 140,48,20,167,62,1
!byte 50,140,64,42,150,64
!byte 25,25,34,141,64,35
!byte 126,43,50,147,64,42
!byte 150,64,43,34,150,64
!byte 24,85,58,140,64,254
!byte 1,40,43,42,141,64
!byte 126,254,23,40,20,237
!byte 95,203,79,32,64,42
!byte 130,64,25,25,25,25
!byte 43,34,141,64,35,24
!byte 29,43,34,141,64,237

;ist 8495 OK
!byte 95,203,79,32,5,62
!byte 1,50,140,64,237,95
!byte 214,140,48,29,167,42
!byte 130,64,25,25,25,25
!byte 126,254,0,32,16,54
!byte 23,237,82,54,14,237
!byte 82,0,54,14,237,82
!byte 0,54,14,14,3,17
!byte 33,0,42,134,64,54
!byte 0,35,54,0,35,121
!byte 254,1,40,6,126,254
!byte 0,194,254,69,58,38
!byte 64,254,253,32,25,58
!byte 138,64,254,1,40,18
!byte 60,50,138,64,34,143
!byte 64,197,237,75,145,64
!byte 11,237,67,145

;ist 8877 OK
!byte 64,193
!byte 254,239,32,5,237,82
!byte 0,24,5,254,223,32
!byte 26,25,126,254,0,194
!byte 254,69,43,126,254,0
!byte 194,254,69,43,126,254
!byte 0,194,254,69,34,134
!byte 64,24,2,43,43,54
!byte 132,35,54,131,58,138
!byte 64,254,1,40,3,35
!byte 54,22,24,16,42,16
!byte 64,1,33,0,237,66
!byte 11,11,84,93,35,237
!byte 176,201,6,3,17,0
!byte 6,58,138,64,254,1
!byte 32,76,58,139,64,60
!byte 50,139,64,42,143,64
!byte 35,126

;ist 7965 OK
!byte 254,52,40,4
!byte 254,21,32,27,213,42
!byte 150,64,54,0,126,50
!byte 149,64,17,5,0,42
!byte 145,64,25,34,145,64
!byte 42,143,64,209,35,24
!byte 121,254,0,40,124,254
!byte 19,32,23,213,54,0
!byte 43,54,0,126,50,152
!byte 64,17,10,0,42,145
!byte 64,25,34,145,64,209
!byte 24,105,254,23,32,71
!byte 213,0,0,43,54,0
!byte 35,54,0,17,33,0
!byte 167,237,82,126,254,20
!byte 54,0,32,4,126,50
!byte 147,64,167,237,82,126

;ist 7964 <<<< (soll 7973)  9off (7963, 10off)
!byte 254,20,54,0,32,4
!byte 126,50,147,64,167,237
!byte 82,126,254,20,54,0
!byte 32,4,126,50,147,64
!byte 209,126,50,138,64,42
!byte 145,64,35,35,35,35
!byte 34,145,64,24,30,254
!byte 20,32,5,43,54,0
!byte 24,63,254,136,204,177
!byte 69,0,62,0,50,138
!byte 64,24,5,54,22,34
!byte 143,64,43,54,0,58
!byte 140,64,254,1,32,72
!byte 58,147,64,42,141,64
!byte 35,119,43,126,254,118
!byte 32,7,62,0,50,140
!byte 64,24,27,254

;ist 8607 <<<< (soll 8610)  3off
!byte 22,32
!byte 30,43,126,254,131,202
!byte 56,70,35,54,0,62
!byte 0,50,140,64,50,138
!byte 64,58,147,64,35,119
!byte 62,23,50,147,64,24
!byte 17,50,147,64,254,136
!byte 40,4,54,20,24,2
!byte 54,148,43,34,141,64
!byte 27,27,27,27,27,122
!byte 254,0,32,246,123,214
!byte 6,48,241,5,120,254
!byte 0,194,140,67,42,134
!byte 64,35,35,54,0,197
!byte 1,8,20,205,245,8
!byte 237,75,145,64,205,114
!byte 69,193,58,138,64,254
!byte 1,32

;ist 8525 OK
!byte 17,42,143,64
!byte 58,139,64,254,12,32
!byte 8,62,0,50,138,64
!byte 54,0,50,139,64,13
!byte 121,254,0,194,9,67
!byte 58,138,64,254,0,40
!byte 4,43,34,143,64,58
!byte 140,64,254,1,32,12
!byte 42,141,64,126,254,118
!byte 40,4,43,34,141,64
!byte 1,23,20,205,245,8
!byte 237,75,153,64,3,237
!byte 67,153,64,58,148,64
!byte 254,0,40,30,167,121
!byte 214,119,48,24,167,58
!byte 149,64,254,0,32,16
!byte 62,0,50,148,64,33

;ist 9006 OK
!byte 0,6,34,141,67,62
!byte 1,50,104,69,121,254
!byte 120,32,21,120,254,0
!byte 32,16,62,1,50,148
!byte 64,33,0,6,34,141
!byte 67,62,2,50,104,69
!byte 121,254,88,32,4,120
!byte 254,2,200,167,0,205
!byte 127,69,42,141,67,17
!byte 2,0,237,82,34,141
!byte 67,195,237,64,120,254
!byte 0,32,8,121,254,0
!byte 32,3,50,36,67,167
!byte 120,214,4,48,39,120
!byte 254,3,32,6,167,121
!byte 214,232,48,28,62,28
!byte 215,167,120,254

;ist 8451 OK
!byte 0,40
!byte 2,24,18,121,214,100
!byte 48,12,62,28,215,167
!byte 121,214,10,48,3,62
!byte 28,215,167,205,152,10
!byte 201,54,0,213,17,33
!byte 0,25,126,254,14,40
!byte 21,254,20,32,55,25
!byte 126,254,14,32,49,167
!byte 237,82,167,237,82,62
!byte 0,50,147,64,54,0
!byte 25,126,254,20,54,0
!byte 32,4,126,50,147,64
!byte 25,126,254,20,54,0
!byte 32,4,126,50,147,64
!byte 25,126,254,20,54,0
!byte 32,4,126,50,147,64
!byte 209,42

;ist 9053 OK
!byte 143,64,35,201
!byte 71,30,30,229,22,255
!byte 43,126,254,118,40,7
!byte 43,126,254,118,40,1
!byte 43,35,34,134,64,54
!byte 132,35,54,131,35,54
!byte 22,21,122,254,0,32
!byte 250,225,126,254,20,40
!byte 15,112,22,255,21,122
!byte 254,0,32,250,29,123
!byte 254,0,32,201,58,138
!byte 64,254,0,40,5,42
!byte 143,64,54,0,58,140
!byte 64,254,0,40,13,42
!byte 141,64,35,126,254,118
!byte 40,4,58,147,64,119
!byte 42,12,64,17,132,0

;ist 7525 OK
!byte 25,35,17,27,0,6
!byte 12,14,6,54,0,35
!byte 13,121,254,0,32,247
!byte 25,5,120,254,0,32
!byte 238,42,134,64,17,33
!byte 0,54,27,35,54,23
!byte 35,54,27,25,54,25
!byte 43,54,25,43,54,25
!byte 167,237,82,35,237,82
!byte 126,254,0,32,5,54
!byte 14,167,24,244,30,10
!byte 42,12,64,14,24,6
!byte 32,35,126,238,128,119
!byte 16,249,35,13,32,243
!byte 29,123,254,0,32,232
!byte 58,37,64,254,255,32
!byte 249,58,37,64

;ist 7990 <<<< (soll 8040)  (50 off)
!byte 254,255
!byte 40,249,42,134,64,17
!byte 33,0,54,0,35,54
!byte 0,35,54,0,25,54
!byte 0,43,54,0,43,54
!byte 0,167,237,82,35,237
!byte 82,126,254,14,32,5
!byte 54,0,167,24,244,62
!byte 0,50,152,64,1,11
!byte 21,205,245,8,6,0
!byte 58,155,64,79,205,152
!byte 10,58,155,64,254,255
!byte 200,61,50,155,64,42
!byte 12,64,17,141,1,25
!byte 54,132,35,54,131,35
!byte 54,22,42,145,64,237
!byte 91,83,71,25,34,83     ;was 33 at the end
!byte 71,58

;ist 4951 OK
!byte 37,64,254,255
!byte 32,249,58,37,64,254
!byte 255,40,249,58,149,64
!byte 254,0,40,9,62,0
!byte 50,149,64,42,150,64
!byte 119,1,23,21,205,245
!byte 8,237,75,83,71,205
!byte 127,69,195,200,64,0
!byte 0,0,0,0,0,0

;finishes the BASIC starter (closes line 1, and adds a second line with RAND USR call)
;+Line2
!byte $76                        ; Newline
Line1End

          ; Line 2
Line2
          !byte $00,$02
          !word Line2End - Line2Text

Line2Text
          !byte $76                        ; Newline
Line2End

Display
                !byte $76                        ; Newline
                !byte $76 ; Line 0
                !byte $76 ; Line 1
                !byte $76 ; Line 2
                !byte $76 ; Line 3
                !byte $76 ; Line 4
                !byte $76 ; Line 5
                !byte $76 ; Line 6
                !byte $76 ; Line 7
                !byte $76 ; Line 8
                !byte $76 ; Line 9
                !byte $76 ; Line 10
                !byte $76 ; Line 11
                !byte $76 ; Line 12
                !byte $76 ; Line 13
                !byte $76 ; Line 14
                !byte $76 ; Line 15
                !byte $76 ; Line 16
                !byte $76 ; Line 17
                !byte $76 ; Line 18
                !byte $76 ; Line 19
                !byte $76 ; Line 20
                !byte $76 ; Line 21
                !byte $76 ; Line 22
                !byte $76 ; Line 23

; Variables area (empty)
Variables
VariablesEnd
                !byte $80
BasicEnd