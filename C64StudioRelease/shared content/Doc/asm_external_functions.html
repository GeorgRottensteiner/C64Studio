<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<HEAD>
  <link rel="stylesheet" type="text/css" href="msoffice.css" />
  <Title>C64 Studio</Title>
</HEAD>

<body>
  <H3>Assembler - External Functions</H3>
  <div id="mybody">
    External functions can be used in expressions to allow more sophisticated builds. Functions are kept in namespaces to avoid name clashes.<br><br>
    These functions are currently supported:<br>
    <br>
    <br>
    <ul>
      <li><a href="#io.filesize">io.filesize</a></li>
      <li><a href="#math.min">math.min</a></li>
      <li><a href="#math.max">math.max</a></li>
      <li><a href="#math.sin">math.sin</a></li>
      <li><a href="#math.cos">math.cos</a></li>
      <li><a href="#math.tan">math.tan</a></li>
      <li><a href="#math.floor">math.floor</a></li>
      <li><a href="#math.ceiling">math.ceiling</a></li>
      <li><a href="#math.random">math.random</a></li>
      <li><a href="#math.randomseed">math.randomseed</a></li>
    </ul>
    <br>
    <br>
  </div>
  <a name="io.filesize"></a>
  <H2>IO.FILESIZE</H2>
  <div id="mybody">
    <b>file size = io.filesize( filename )</b><br><br>
    io.filesize expects a file name and returns the file size in bytes. If the file name contains a relative path its base is the assembly path.<br>
    <br>
    <br>
    <div id="code"><br>  BYTES_TO_COPY = io.filesize( "file.prg" )
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.min"></a>
  <H2>MATH.MIN</H2>
  <div id="mybody">
    <b>result = math.min( 1, 5 )</b><br><br>
    math.min compares both numeric parameters and returns the smaller one.<br>
    <br>
    <br>
    <div id="code"><br>  PAD_BYTES = math.min( 4, FIELD_LENGTH % 4 )
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.max"></a>
  <H2>MATH.MAX</H2>
  <div id="mybody">
    <b>result = math.max( 1, 5 )</b><br><br>
    math.max compares both numeric parameters and returns the higher one.<br>
    <br>
    <br>
    <div id="code"><br>  PAD_BYTES = math.max( 128, FIELD_LENGTH )
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.sin"></a>
  <H2>MATH.SIN</H2>
  <div id="mybody">
    <b>result = math.sin( 90 )</b><br><br>
    math.sin calculates the sinus of the provided expression. The expression is treated as degrees. The result is a real number. Note that a real number will be cast to byte.<br>
    <br>
    <br>
    <div id="code"><br>  !fill 256, [127 + 128 * math.sin( i * 360 / 256 )]
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.cos"></a>
  <H2>MATH.COS</H2>
  <div id="mybody">
    <b>result = math.cos( 90 )</b><br><br>
    math.sin calculates the cosinus of the provided expression. The expression is treated as degrees. The result is a real number. Note that a real number will be cast to byte.<br>
    <br>
    <br>
    <div id="code"><br>  !fill 256, [127 + 128 * math.cos( i * 360 / 256 )]
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.tan"></a>
  <H2>MATH.TAN</H2>
  <div id="mybody">
    <b>result = math.tan( 90 )</b><br><br>
    math.sin calculates the tangens of the provided expression. The expression is treated as degrees. The result is a real number. Note that a real number will be cast to byte.<br>
    <br>
    <br>
    <div id="code"><br>  !fill 256, [127 + 128 * math.tan( i * 360 / 256 )]
    <br></div>
    <br>
    <br>
  </div>
  <a name="math.floor"></a>
  <H2>MATH.FLOOR</H2>
  <div id="mybody">
    <b>result = math.floor( 4.7 )</b><br><br>
    math.floor calculates the lower next closest integer of the provided value. The result is an integer.<br>
    <br>
    <br>
    <div id="code"><br>  !fill 256, math.floor( i * 2.5 / 128 )
    <br></div>
    <br>
    <br>
  </div>
  </body>
  <a name="math.ceiling"></a>
    <H2>MATH.CEILING</H2>
    <div id="mybody">
      <b>result = math.ceiling( 4.7 )</b><br><br>
      math.ceiling calculates the higher closest integer of the provided value. The result is an integer.<br>
      <br>
      <br>
      <div id="code"><br>  !fill 256, math.ceiling( i * 2.5 / 128 )
      <br></div>
      <br>
      <br>
    </div>
  <a name="math.random"></a>
    <H2>MATH.RANDOM</H2>
    <div id="mybody">
      <b>result = math.random( MaxValue )</b><br><br>
      math.random returns a pseudo random number from 0 to MaxValue - 1.<br>
      <br>
      <br>
      <b>result = math.random( MinValue, MaxValue )</b><br><br>
      math.random returns a pseudo random number from MinValue to MaxValue - 1.<br>
      <br>
      <br>
      The random generator is automatically seeded with a varying value on assembling start. To seed the RNG yourself for a predictable series of pseudo random numbers use math.randomseed.<br>
      <br>
      <br>
      <div id="code"><br>  !fill math.random(20)
  !fill math.random(5,16)
      <br></div>
      <br>
      <br>
    </div>
  <a name="math.randomseed"></a>
    <H2>MATH.RANDOMSEED</H2>
    <div id="mybody">
      <b>result = math.randomseed( SeedValue )</b><br><br>
      math.randomseed initialises the pseudo random generator with the provided seed value. Useful for predictable pseudo random numbers.<br>
      <br>
      <br>
      If the SeedValue -1 is used, the random generator is initialised with a time specific seed.<br>
      <br>
      <br>
      <div id="code"><br>  math.randomseed( 7 )
      <br></div>
      <br>
      <br>
    </div>
  </body>
</HTML>
