using System;
using System.Linq;
using System.Web.Services.Description;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using RetroDevStudio.Types;

namespace TestProject
{
  [TestClass]
  public partial class AssembleMedia
  {
    [TestMethod]
    public void AssemblePlain()
    {
      string   source = @"
                !to ""test.bin"",plain
                * = $2000
                          lda #$01
                          sta 53281
                          rts";

      var assembly = TestAssembler.TestAssembleC64Studio( source, out RetroDevStudio.Types.ASM.FileInfo asmFileInfo );

      Assert.AreEqual( "A9018D21D060", assembly.ToString() );
    }



    [TestMethod]
    public void AssemblePRG()
    {
      string   source = @"
                !to ""test.prg"",cbm
                * = $2000
                          lda #$01
                          sta 53281
                          rts";

      var assembly = TestAssembler.TestAssembleC64Studio( source, out RetroDevStudio.Types.ASM.FileInfo asmFileInfo );

      Assert.AreEqual( "0020A9018D21D060", assembly.ToString() );
    }



    [TestMethod]
    public void AssembleT64()
    {
      string   source = @"
                !to ""test.t64"",t64
                * = $2000
                          lda #$01
                          sta 53281
                          rts";

      var assembly = TestAssembler.TestAssembleC64Studio( source, out RetroDevStudio.Types.ASM.FileInfo asmFileInfo );

      Assert.AreEqual( "4336345320746170652066696C650D0A44656D6F20746170651A2E2E2E2E2E2E00011E00010000005553455244455343202020202020202020202020202020200102002006200000000400000000000054455354A0A0A0A0A0A0A0A0A0A0A0A000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A9018D21D060", assembly.ToString() );
    }



  }
}
